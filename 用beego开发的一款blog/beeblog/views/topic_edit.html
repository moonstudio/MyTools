{{template "header" .}}
  <title>Moonstudio blog-Topic-edit</title>
</head>
<body>
  <div class="navbar navbar-default">
    <div class="container">
    {{template "navbar" .}}
    </div>
  </div>
  
  <div class="container">
        
    <div class="page-header">
      <h1>文章新增</h1>
      
      <form action="/topic" method="post" enctype="multipart/form-data">
          <input type="hidden" name="op" value="editsubmit">
          <input type="hidden" name="id" value="{{.Topic.Id}}">
          <div class="form-group">
            <label for="exampleInputAccount">文章标题</label>
            <input class="form-control" id="title" placeholder="输入文章标题" name="title" value="{{.Topic.Title}}">
          </div>
          <div class="form-group">
            <label for="exampleInputAccount">文章分类</label>
            <div>
              <select class="form-control" name="category">
              {{range .Category}}
                <option value="{{.Title}}">{{.Title}}</option>
              {{end}}
              </select>
            </div>
          </div>
          <div class="form-group">
            <label>文章附件（<a href="/attachment/{{.Topic.Attachment}}">{{.Topic.Attachment}}</a>）：</label>
            <input type="file" class="form-control" name="attachment">
          </div>
          <div class="form-group">
            <label for="exampleInputAccount">文章内容</label>
            <textarea class="form-control" id="content" cols="30" rows="10" name="content">{{.Topic.Content}}</textarea>
          </div>
          <button type="submit" class="btn btn-default" onclick="return checkInput()" >保存</button>
      </form>
      <br/>
    </div>
  </div>
  
  <script type="text/javascript" src="http://cdn.staticfile.org/jquery/2.1.1-rc2/jquery.min.js"></script>
  <script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
</body>
</html>
<script type="text/javascript">
  function checkInput(){
    var title = document.getElementById("title");
    if(title.value.length==0){
      alert('文章标题不能为空');
      return false;
    }
    var content = document.getElementById("content");
    if(content.value.length==0){
      alert('文章内容不能为空');
      return false;
    }
    var category = document.getElementById("category")
    if(category.value.length ==0){
      alert('文章分类不能为空');
      return false;
    }
  }
  function backHome(){
    window.location.href="/";
    return false;
  }
</script>